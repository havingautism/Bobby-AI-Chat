# 主题系统测试清单

## 基础功能测试

### ✅ 主题切换按钮

- [ ] 按钮位置正确（左下角头像右边）
- [ ] 明亮模式显示太阳图标
- [ ] 暗夜模式显示月亮图标
- [ ] 点击切换功能正常
- [ ] hover 效果正常

### ✅ 主题持久化

- [ ] 切换主题后刷新页面，主题保持
- [ ] localStorage 中正确保存主题设置
- [ ] 首次访问时根据系统偏好设置主题

### ✅ 界面元素主题化

- [ ] 背景色正确切换
- [ ] 文字颜色正确切换
- [ ] 边框颜色正确切换
- [ ] 输入框主题正确
- [ ] 按钮主题正确
- [ ] 滚动条主题正确

## 组件主题测试

### ✅ Sidebar 组件

- [ ] 背景色切换正常
- [ ] 搜索框主题正确
- [ ] 对话列表主题正确
- [ ] 角色筛选下拉菜单主题正确

### ✅ ChatInterface 组件

- [ ] 聊天界面背景切换正常
- [ ] 标题栏主题正确
- [ ] 消息区域主题正确

### ✅ WelcomeScreen 组件

- [ ] 欢迎界面背景切换正常
- [ ] 角色选择下拉菜单主题正确
- [ ] 输入框主题正确
- [ ] 快速提示按钮主题正确

### ✅ MessageList 组件

- [ ] 消息背景切换正常
- [ ] 用户消息和 AI 消息区分明显
- [ ] 等待状态动画主题正确

### ✅ CodeBlock 组件

- [ ] 明亮模式使用 vs 主题
- [ ] 暗夜模式使用 vscDarkPlus 主题
- [ ] 代码块背景和边框正确
- [ ] 复制按钮主题正确
- [ ] 语言标签主题正确

## 响应式测试

### ✅ 桌面端

- [ ] 正常状态下主题切换正常
- [ ] 收起侧边栏状态下主题切换正常

### ✅ 移动端

- [ ] 移动端主题切换按钮显示正常
- [ ] 触摸操作正常
- [ ] 界面适配正确

## 性能测试

### ✅ 切换性能

- [ ] 主题切换响应迅速
- [ ] 无明显的闪烁或延迟
- [ ] 动画过渡流畅

### ✅ 内存使用

- [ ] 多次切换主题无内存泄漏
- [ ] 事件监听器正确清理

## 无障碍测试

### ✅ 键盘导航

- [ ] 可以通过 Tab 键导航到主题切换按钮
- [ ] 可以通过 Enter 或 Space 键激活按钮

### ✅ 屏幕阅读器

- [ ] 按钮有正确的 title 属性
- [ ] 主题状态变化有适当的反馈

### ✅ 颜色对比度

- [ ] 明亮模式颜色对比度符合 WCAG 标准
- [ ] 暗夜模式颜色对比度符合 WCAG 标准

## 边界情况测试

### ✅ 错误处理

- [ ] localStorage 不可用时的降级处理
- [ ] 无效主题值的处理
- [ ] 网络错误时的处理

### ✅ 兼容性

- [ ] 不同浏览器下的表现一致
- [ ] 旧版浏览器的降级处理

## 用户体验测试

### ✅ 视觉效果

- [ ] 主题切换视觉效果令人愉悦
- [ ] 颜色搭配协调
- [ ] 图标清晰易懂

### ✅ 交互体验

- [ ] 按钮位置容易找到
- [ ] 切换操作直观
- [ ] 反馈及时明确

## 测试步骤

1. **基础切换测试**

   - 打开应用
   - 点击主题切换按钮
   - 观察界面变化
   - 验证所有元素都正确切换

2. **持久化测试**

   - 切换到暗夜模式
   - 刷新页面
   - 验证仍为暗夜模式

3. **代码块测试**

   - 发送包含代码的消息
   - 切换主题
   - 验证代码高亮正确切换

4. **响应式测试**

   - 调整浏览器窗口大小
   - 测试不同屏幕尺寸下的主题切换

5. **性能测试**
   - 快速多次切换主题
   - 观察是否有性能问题

## 已知问题

- [ ] 无已知问题

## 改进建议

- [ ] 可以考虑添加更多主题选项
- [ ] 可以添加主题切换的动画效果
- [ ] 可以考虑根据时间自动切换主题
