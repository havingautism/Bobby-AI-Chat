# 暗夜模式颜色优化

## 问题描述

原始的暗夜模式颜色过于暗淡，对比度不够，用户体验不佳。

## 优化方案

### 1. 颜色调色板优化

#### 原始暗夜模式颜色

```css
--bg-primary: #1f2937; /* 太暗 */
--bg-secondary: #111827; /* 太暗 */
--bg-tertiary: #374151; /* 对比度不够 */
--text-primary: #f9fafb; /* 过于亮白 */
```

#### 优化后的暗夜模式颜色

```css
--bg-primary: #2d3748; /* 更温和的深色 */
--bg-secondary: #1a202c; /* 适中的背景色 */
--bg-tertiary: #4a5568; /* 更好的对比度 */
--text-primary: #f7fafc; /* 柔和的白色 */
--text-secondary: #e2e8f0; /* 更清晰的次要文字 */
--text-tertiary: #a0aec0; /* 更好的三级文字 */
```

### 2. 边框和阴影优化

- 使用更明显的边框颜色 `#4a5568`
- 增强阴影效果，提高层次感
- 优化 hover 状态的颜色变化

### 3. 交互元素优化

- 按钮使用更鲜明的蓝色 `#63b3ed`
- hover 状态使用 `#4299e1`
- 输入框焦点状态更明显

### 4. 组件特殊处理

#### 消息区域

- 用户消息背景：`#2d3748`
- AI 消息背景：`#1a202c`
- 更好的消息区分度

#### 侧边栏

- 新对话按钮使用主背景色
- hover 状态使用三级背景色
- 搜索框和筛选器优化

#### 输入框

- 使用主背景色
- 边框颜色更明显
- 占位符文字更清晰

#### 代码块

- 保持使用 vscDarkPlus 主题
- 背景色与界面协调
- 边框颜色统一

### 5. 可访问性改进

- 确保所有文字与背景的对比度符合 WCAG 标准
- 提高交互元素的可识别性
- 优化焦点状态的视觉反馈

## 测试要点

### 视觉测试

- [ ] 整体界面不再过于暗淡
- [ ] 文字清晰易读
- [ ] 边框和分割线清晰可见
- [ ] 按钮和交互元素突出

### 对比度测试

- [ ] 主要文字对比度 ≥ 4.5:1
- [ ] 次要文字对比度 ≥ 3:1
- [ ] 交互元素对比度 ≥ 3:1

### 功能测试

- [ ] 所有交互元素正常工作
- [ ] hover 状态清晰可见
- [ ] 焦点状态明显
- [ ] 代码高亮正常显示

### 一致性测试

- [ ] 所有组件使用统一的颜色变量
- [ ] 明亮模式和暗夜模式切换流畅
- [ ] 颜色搭配协调统一

## 预期效果

优化后的暗夜模式应该：

1. **更舒适的视觉体验** - 不会过于刺眼或过于暗淡
2. **更好的可读性** - 文字清晰，对比度适中
3. **更清晰的层次** - 不同区域有明显的视觉区分
4. **更好的交互反馈** - 按钮和链接状态明显
5. **现代化的外观** - 符合当前设计趋势的暗色主题

## 技术实现

### CSS 变量系统

使用 CSS 自定义属性确保颜色的一致性和可维护性。

### 组件级优化

每个组件都针对暗夜模式进行了特殊优化。

### 渐进增强

确保在不支持 CSS 变量的旧浏览器中有合理的降级方案。
